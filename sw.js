"use strict";const n=7,c="colles-viewer-7",t="/carnot-colles/";async function a(){const n=await caches.open(c),a=["","apple-touch-icon.png","data.json","favicon.ico","icon-16.png","icon-32.png","icon-192.png","icon-512.png","manifest.webmanifest"].map(n=>t+n);await n.addAll(a)}async function e(){const n=await caches.keys();await Promise.all(n.filter(n=>n!==c).map(n=>caches.delete(n)))}async function s(n){const c=await caches.match(n);return void 0!==c?c:await fetch(n)}async function i(n){const a=await caches.open(c),e="<!doctype html><html>"+n+"</html>";await a.put(t,new Response(e,{headers:{"content-type":"text/html"}}))}self.addEventListener("install",function(n){n.waitUntil(a().then(function(){self.skipWaiting()}))}),self.addEventListener("activate",function(n){self.clients.claim(),n.waitUntil(e())}),self.addEventListener("fetch",function(n){n.respondWith(s(n.request))}),self.addEventListener("message",function(n){i(n.data)});